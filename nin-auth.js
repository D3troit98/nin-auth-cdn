(function (
) {
    let stream;
let videoElement;
let capturedImage;

const consents = [
   "Full Name", "Mobile Number", "Date of Birth"
];

// Initial Step (Load Form)
function loadStep1() {

   // first reset all values
   let video = document.getElementById("video-preview");
   if (video && video.srcObject) {
       let stream = video.srcObject;
       let tracks = stream.getTracks();
       tracks.forEach(track => track.stop()); // Stop all tracks
       video.srcObject = null; // Remove video stream
   }

   document.querySelector('.nin-auth-modal').innerHTML = `
           <button id="nin-auth-close" class="nin-auth-close">
       <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
           <g clip-path="url(#clip0_9397_28110)">
               <path d="M15 5L5 15" stroke="white" stroke-width="1.5" stroke-linecap="round"
                   stroke-linejoin="round" />
               <path d="M5 5L15 15" stroke="white" stroke-width="1.5" stroke-linecap="round"
                   stroke-linejoin="round" />
           </g>
           <defs>
               <clipPath id="clip0_9397_28110">
                   <rect width="20" height="20" fill="white" />
               </clipPath>
           </defs>
       </svg>

   </button>
   <div class="nin-auth-steps">
       <svg width="118" height="32" viewBox="0 0 118 32" fill="none" xmlns="http://www.w3.org/2000/svg">
           <path
               d="M27.8848 21.9748V3.80762H31.016L39.1877 17.1735V3.80762H42.0388V21.9748H38.9076L30.7106 8.63495V21.9748H27.8848Z"
               fill="#059661" />
           <path d="M44.6797 21.9748V3.80762H47.6581V21.9748H44.6797Z" fill="#059661" />
           <path
               d="M50.3008 21.9748V3.80762H53.432L61.6036 17.1735V3.80762H64.4548V21.9748H61.3236L53.1265 8.63495V21.9748H50.3008Z"
               fill="#059661" />
           <path
               d="M79.1135 21.9748L77.5351 17.6925H70.2036L68.6252 21.9748H65.5449L72.4692 3.80762H75.244L82.1938 21.9748H79.1135ZM71.171 15.0713H76.5678L73.8694 7.80435L71.171 15.0713Z"
               fill="#0A1E29" />
           <path
               d="M94.4834 8.89453V21.9749H91.7086V19.7949C91.2673 20.5216 90.6818 21.1012 89.9521 21.5337C89.2223 21.9663 88.4077 22.1825 87.5083 22.1825C86.1166 22.1825 84.9923 21.7544 84.1352 20.8979C83.2782 20.0415 82.8496 18.9125 82.8496 17.5111V8.8946H85.6244V16.8622C85.6244 17.6927 85.862 18.3632 86.3372 18.8735C86.8124 19.384 87.4573 19.6392 88.2719 19.6392C89.3411 19.6392 90.1812 19.198 90.7921 18.3156C91.4031 17.4331 91.7086 16.2047 91.7086 14.6303V8.8946H94.4834V8.89453Z"
               fill="#0A1E29" />
           <path
               d="M104.178 21.8705C103.567 22.0781 102.889 22.1819 102.142 22.1819C100.869 22.1819 99.8464 21.8186 99.0743 21.0919C98.3021 20.3652 97.916 19.2838 97.916 17.8478V11.3075H95.6758V8.89388H97.916V5.00098H100.691V8.89388H104V11.3075H100.691V17.692C100.691 18.3322 100.848 18.8209 101.162 19.1583C101.476 19.4958 101.904 19.6644 102.447 19.6644C103.058 19.6644 103.576 19.5606 104 19.353L104.178 21.8704L104.178 21.8705Z"
               fill="#0A1E29" />
           <path
               d="M106.107 21.9744V3.59961H108.882V11.152C109.782 9.50836 111.182 8.68642 113.083 8.68642C114.542 8.68642 115.709 9.11468 116.583 9.97111C117.457 10.8276 117.894 11.9652 117.894 13.3839V21.9744H115.119V14.0328C115.119 13.1677 114.869 12.4843 114.368 11.9825C113.868 11.4808 113.184 11.2299 112.319 11.2299C111.25 11.2299 110.41 11.6798 109.799 12.5795C109.188 13.4792 108.882 14.725 108.882 16.3168V21.9745H106.107V21.9744Z"
               fill="#0A1E29" />
           <path
               d="M98.5299 30.9971C98.3227 30.9971 98.1325 30.953 97.9593 30.8647C97.786 30.7764 97.6674 30.665 97.6033 30.5306V30.9511H97.123V26.873H97.6033V28.4628C97.6937 28.3246 97.8245 28.2132 97.996 28.1287C98.1674 28.0442 98.3472 28.002 98.5355 28.002C98.9649 28.002 99.3001 28.1412 99.5412 28.4196C99.7822 28.6979 99.9027 29.058 99.9027 29.4996C99.9027 29.9412 99.7813 30.3012 99.5383 30.5796C99.2954 30.858 98.9592 30.9972 98.5298 30.9972L98.5299 30.9971ZM97.8152 30.2686C97.9828 30.4624 98.206 30.5594 98.4847 30.5594C98.7634 30.5594 98.9876 30.4624 99.157 30.2686C99.3265 30.0746 99.4112 29.8183 99.4112 29.4996C99.4112 29.1808 99.3264 28.9245 99.157 28.7306C98.9875 28.5366 98.7634 28.4397 98.4847 28.4397C98.206 28.4397 97.9828 28.5366 97.8152 28.7306C97.6476 28.9245 97.5638 29.1808 97.5638 29.4996C97.5638 29.8183 97.6476 30.0746 97.8152 30.2686Z"
               fill="#0A1E29" />
           <path
               d="M102.299 28.0488H102.791L101.299 32.0002H100.808L101.22 30.9115L100.107 28.0488H100.627L101.463 30.2722L102.299 28.0488Z"
               fill="#0A1E29" />
           <path
               d="M104.639 30.9519V26.9199H105.209L107.204 30.1282V26.9199H107.707V30.9519H107.136L105.142 27.7551V30.9519H104.639Z"
               fill="#0A1E29" />
           <path d="M108.531 30.9519V26.9199H109.045V30.9519H108.531Z" fill="#0A1E29" />
           <path
               d="M109.863 30.9519V26.9199H110.485L111.818 30.1916L113.151 26.9199H113.773V30.9519H113.264V27.9106L112.033 30.9519H111.603L110.366 27.9106V30.9519H109.863Z"
               fill="#0A1E29" />
           <path
               d="M116.333 30.9971C115.798 30.9971 115.344 30.8176 114.971 30.4586C114.599 30.0996 114.412 29.5917 114.412 28.9351C114.412 28.2785 114.599 27.7706 114.974 27.4116C115.349 27.0526 115.802 26.873 116.333 26.873C116.762 26.873 117.127 26.9873 117.426 27.2158C117.726 27.4443 117.917 27.7543 118 28.146L117.491 28.2612C117.427 27.9695 117.295 27.7429 117.093 27.5816C116.891 27.4203 116.636 27.3397 116.327 27.3397C115.913 27.3397 115.579 27.4799 115.325 27.7602C115.07 28.0405 114.943 28.4322 114.943 28.9352C114.943 29.4382 115.07 29.8289 115.325 30.1073C115.579 30.3857 115.913 30.5249 116.327 30.5249C116.633 30.5249 116.884 30.4481 117.082 30.2945C117.279 30.141 117.414 29.924 117.486 29.6437L118 29.7532C117.898 30.1372 117.7 30.4405 117.407 30.6632C117.113 30.886 116.755 30.9973 116.333 30.9973V30.9971Z"
               fill="#0A1E29" />
           <path fill-rule="evenodd" clip-rule="evenodd"
               d="M11.9101 0C18.4879 0 23.8202 5.43628 23.8202 12.1423C23.8202 18.8484 18.4879 24.2846 11.9101 24.2846C5.33225 24.2846 0 18.8484 0 12.1423C0 5.43628 5.33225 0 11.9101 0ZM14.1398 18.9174H9.69391C8.67531 18.9445 7.844 17.893 8.08539 16.884L9.40758 12.3379C8.31215 11.3947 7.81251 9.90708 8.12648 8.43664C8.4411 6.96413 9.62531 5.76602 11.073 5.45552C12.2437 5.2037 13.4385 5.49329 14.3507 6.24769C15.263 7.00256 15.7863 8.12181 15.7863 9.31825C15.7863 10.4893 15.2796 11.5895 14.4128 12.337L15.738 16.8417C15.9955 17.8964 15.1808 18.9327 14.1402 18.9174H14.1398H14.1398Z"
               fill="#059661" />
           <path
               d="M11.7482 30.2121C7.97114 30.2121 4.1941 28.7476 1.31716 25.8187C0.765396 25.2651 0.730184 24.3612 1.25026 23.7647C1.78727 23.1486 2.7116 23.0931 3.31576 23.6404L3.31661 23.6412C3.33797 23.6606 3.35888 23.6806 3.37913 23.7012C7.98963 28.4014 15.4884 28.4063 20.1043 23.7145C20.37 23.4365 20.7412 23.2639 21.1519 23.2639C21.96 23.2639 22.6153 23.9315 22.6153 24.7553C22.6153 25.151 22.4611 25.5312 22.1866 25.8109C19.3087 28.745 15.5285 30.212 11.7482 30.212H11.7482L11.7482 30.2121Z"
               fill="#059661" fill-opacity="0.980392" />
           <path
               d="M21.1523 23.2647C20.7416 23.2647 20.3703 23.4373 20.1046 23.7152C17.7987 26.0591 14.7735 27.2307 11.748 27.2305V30.2129L11.7486 30.2128C15.5288 30.2128 19.309 28.7459 22.187 25.8118C22.4614 25.532 22.6156 25.1518 22.6156 24.7562C22.6155 23.9321 21.9605 23.2646 21.1523 23.2646V23.2647Z"
               fill="#12BA74" fill-opacity="0.980392" />
       </svg>

       <div class="nin-auth-step-container">
           <div class="nin-auth-step">
               <svg width=" 24" height="24" viewBox="0 0 24 24" fill="none"
               xmlns="http://www.w3.org/2000/svg">
               <path
                   d="M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22ZM17.4571 9.45711L11 15.9142L6.79289 11.7071L8.20711 10.2929L11 13.0858L16.0429 8.04289L17.4571 9.45711Z"
                   fill="#E4E1DC" />
               </svg>
               <p class="nin-auth-submission-text">
                   NIN Submission
               </p>
           </div>
           <div class="horizontal-container">
               <div class="horizontal-line"></div>
           </div>
           <div class="nin-auth-step">
               <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                   <path
                       d="M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22ZM17.4571 9.45711L11 15.9142L6.79289 11.7071L8.20711 10.2929L11 13.0858L16.0429 8.04289L17.4571 9.45711Z"
                       fill="#E4E1DC" />
               </svg>
               <p class="nin-auth-submission-text">
                   Facial Verification
               </p>

           </div>
           <div class="horizontal-container">
               <div class="horizontal-line"></div>
           </div>
           <div class="nin-auth-step">
               <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                   <path
                       d="M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22ZM17.4571 9.45711L11 15.9142L6.79289 11.7071L8.20711 10.2929L11 13.0858L16.0429 8.04289L17.4571 9.45711Z"
                       fill="#E4E1DC" />
               </svg>
               <p class="nin-auth-submission-text">
                   Data Consent
               </p>
           </div>
       </div>
   </div>
   <div class="main-content">
       <div class="form-content">
           <header class="header-container">
               <h1>
                   NIN Submission
               </h1>
               <p class="heading-title">
                   Your National Identity Number will be verified securely
               </p>
           </header>

           <form class="nin-auth-form" id="nin-auth-form" onsubmit="submitData(event)" >
               <input type="text" class="nin-auth-input" placeholder="Enter 11-digit NIN" maxlength="11"
                   pattern="[0-9]{11}" required>

               <div class="nin-auth-checkbox">
                   <input type="checkbox" id="nin-consent" required>
                   <label class="nin-auth-checkbox-label" for="nin-consent">
                       I consent to the processing of the NIN data for identity verification purposes, in
                       accordance with the Nigeria Data Protection Act (NDPA).
                   </label>
               </div>
               <button  type="submit" class="nin-auth-submit">Submit</button>
           </form>


           <div class="nin-auth-footer">
               <svg width="17" height="18" viewBox="0 0 17 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                   <path
                       d="M13.4583 7.58366H14.1667C14.5579 7.58366 14.875 7.90078 14.875 8.29199V15.3753C14.875 15.7665 14.5579 16.0837 14.1667 16.0837H2.83333C2.44213 16.0837 2.125 15.7665 2.125 15.3753V8.29199C2.125 7.90078 2.44213 7.58366 2.83333 7.58366H3.54167V6.87533C3.54167 4.13692 5.76159 1.91699 8.5 1.91699C11.2384 1.91699 13.4583 4.13692 13.4583 6.87533V7.58366ZM12.0417 7.58366V6.87533C12.0417 4.91932 10.456 3.33366 8.5 3.33366C6.54399 3.33366 4.95833 4.91932 4.95833 6.87533V7.58366H12.0417ZM7.79167 10.417V13.2503H9.20833V10.417H7.79167Z"
                       fill="#4B5363" />
               </svg>

               YOUR DATA IS ENCRYPTED AND SECURED BY NINAUTH
           </div>
       </div>
   </div>
   `;


   document.getElementById("nin-auth-form").addEventListener("submit", submitData);
   let ninInput = document.querySelector(".nin-auth-input");

   ninInput.addEventListener("input", function (e) {
       this.value = this.value.replace(/\D/g, ""); // Remove non-numeric characters
       if (this.value.length > 11) {
           this.value = this.value.slice(0, 11); // Restrict to 11 digits
       }
   });

   document.getElementById("nin-auth-form").addEventListener("submit", function (event) {
       if (ninInput.value.length !== 11) {
           event.preventDefault();
           alert("NIN must be exactly 11 digits!");
       }
   });

}

// Handle API Call & Go to Next Step
function submitData(event) {
   event.preventDefault(); // Prevents form from actually submitting

   let userInput = document.getElementById('nin-consent').checked;

   if (!userInput) {
       alert("You must give consent before submitting!");
       return;
   }

   loadStep2(); // Assuming this is the next step in your flow
}


// Step 2 (Next Step after API Call)
function loadStep2() {
   // Ensure the camera starts after the DOM update
   initCamera();
   document.querySelector('.nin-auth-modal').innerHTML = `
   <button id="nin-auth-close" class="nin-auth-close">
       <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
           <g clip-path="url(#clip0_9397_28110)">
               <path d="M15 5L5 15" stroke="white" stroke-width="1.5" stroke-linecap="round"
                   stroke-linejoin="round" />
               <path d="M5 5L15 15" stroke="white" stroke-width="1.5" stroke-linecap="round"
                   stroke-linejoin="round" />
           </g>
           <defs>
               <clipPath id="clip0_9397_28110">
                   <rect width="20" height="20" fill="white" />
               </clipPath>
           </defs>
       </svg>

   </button>
   <div class="nin-auth-steps">
       <svg width="118" height="32" viewBox="0 0 118 32" fill="none" xmlns="http://www.w3.org/2000/svg">
           <path
               d="M27.8848 21.9748V3.80762H31.016L39.1877 17.1735V3.80762H42.0388V21.9748H38.9076L30.7106 8.63495V21.9748H27.8848Z"
               fill="#059661" />
           <path d="M44.6797 21.9748V3.80762H47.6581V21.9748H44.6797Z" fill="#059661" />
           <path
               d="M50.3008 21.9748V3.80762H53.432L61.6036 17.1735V3.80762H64.4548V21.9748H61.3236L53.1265 8.63495V21.9748H50.3008Z"
               fill="#059661" />
           <path
               d="M79.1135 21.9748L77.5351 17.6925H70.2036L68.6252 21.9748H65.5449L72.4692 3.80762H75.244L82.1938 21.9748H79.1135ZM71.171 15.0713H76.5678L73.8694 7.80435L71.171 15.0713Z"
               fill="#0A1E29" />
           <path
               d="M94.4834 8.89453V21.9749H91.7086V19.7949C91.2673 20.5216 90.6818 21.1012 89.9521 21.5337C89.2223 21.9663 88.4077 22.1825 87.5083 22.1825C86.1166 22.1825 84.9923 21.7544 84.1352 20.8979C83.2782 20.0415 82.8496 18.9125 82.8496 17.5111V8.8946H85.6244V16.8622C85.6244 17.6927 85.862 18.3632 86.3372 18.8735C86.8124 19.384 87.4573 19.6392 88.2719 19.6392C89.3411 19.6392 90.1812 19.198 90.7921 18.3156C91.4031 17.4331 91.7086 16.2047 91.7086 14.6303V8.8946H94.4834V8.89453Z"
               fill="#0A1E29" />
           <path
               d="M104.178 21.8705C103.567 22.0781 102.889 22.1819 102.142 22.1819C100.869 22.1819 99.8464 21.8186 99.0743 21.0919C98.3021 20.3652 97.916 19.2838 97.916 17.8478V11.3075H95.6758V8.89388H97.916V5.00098H100.691V8.89388H104V11.3075H100.691V17.692C100.691 18.3322 100.848 18.8209 101.162 19.1583C101.476 19.4958 101.904 19.6644 102.447 19.6644C103.058 19.6644 103.576 19.5606 104 19.353L104.178 21.8704L104.178 21.8705Z"
               fill="#0A1E29" />
           <path
               d="M106.107 21.9744V3.59961H108.882V11.152C109.782 9.50836 111.182 8.68642 113.083 8.68642C114.542 8.68642 115.709 9.11468 116.583 9.97111C117.457 10.8276 117.894 11.9652 117.894 13.3839V21.9744H115.119V14.0328C115.119 13.1677 114.869 12.4843 114.368 11.9825C113.868 11.4808 113.184 11.2299 112.319 11.2299C111.25 11.2299 110.41 11.6798 109.799 12.5795C109.188 13.4792 108.882 14.725 108.882 16.3168V21.9745H106.107V21.9744Z"
               fill="#0A1E29" />
           <path
               d="M98.5299 30.9971C98.3227 30.9971 98.1325 30.953 97.9593 30.8647C97.786 30.7764 97.6674 30.665 97.6033 30.5306V30.9511H97.123V26.873H97.6033V28.4628C97.6937 28.3246 97.8245 28.2132 97.996 28.1287C98.1674 28.0442 98.3472 28.002 98.5355 28.002C98.9649 28.002 99.3001 28.1412 99.5412 28.4196C99.7822 28.6979 99.9027 29.058 99.9027 29.4996C99.9027 29.9412 99.7813 30.3012 99.5383 30.5796C99.2954 30.858 98.9592 30.9972 98.5298 30.9972L98.5299 30.9971ZM97.8152 30.2686C97.9828 30.4624 98.206 30.5594 98.4847 30.5594C98.7634 30.5594 98.9876 30.4624 99.157 30.2686C99.3265 30.0746 99.4112 29.8183 99.4112 29.4996C99.4112 29.1808 99.3264 28.9245 99.157 28.7306C98.9875 28.5366 98.7634 28.4397 98.4847 28.4397C98.206 28.4397 97.9828 28.5366 97.8152 28.7306C97.6476 28.9245 97.5638 29.1808 97.5638 29.4996C97.5638 29.8183 97.6476 30.0746 97.8152 30.2686Z"
               fill="#0A1E29" />
           <path
               d="M102.299 28.0488H102.791L101.299 32.0002H100.808L101.22 30.9115L100.107 28.0488H100.627L101.463 30.2722L102.299 28.0488Z"
               fill="#0A1E29" />
           <path
               d="M104.639 30.9519V26.9199H105.209L107.204 30.1282V26.9199H107.707V30.9519H107.136L105.142 27.7551V30.9519H104.639Z"
               fill="#0A1E29" />
           <path d="M108.531 30.9519V26.9199H109.045V30.9519H108.531Z" fill="#0A1E29" />
           <path
               d="M109.863 30.9519V26.9199H110.485L111.818 30.1916L113.151 26.9199H113.773V30.9519H113.264V27.9106L112.033 30.9519H111.603L110.366 27.9106V30.9519H109.863Z"
               fill="#0A1E29" />
           <path
               d="M116.333 30.9971C115.798 30.9971 115.344 30.8176 114.971 30.4586C114.599 30.0996 114.412 29.5917 114.412 28.9351C114.412 28.2785 114.599 27.7706 114.974 27.4116C115.349 27.0526 115.802 26.873 116.333 26.873C116.762 26.873 117.127 26.9873 117.426 27.2158C117.726 27.4443 117.917 27.7543 118 28.146L117.491 28.2612C117.427 27.9695 117.295 27.7429 117.093 27.5816C116.891 27.4203 116.636 27.3397 116.327 27.3397C115.913 27.3397 115.579 27.4799 115.325 27.7602C115.07 28.0405 114.943 28.4322 114.943 28.9352C114.943 29.4382 115.07 29.8289 115.325 30.1073C115.579 30.3857 115.913 30.5249 116.327 30.5249C116.633 30.5249 116.884 30.4481 117.082 30.2945C117.279 30.141 117.414 29.924 117.486 29.6437L118 29.7532C117.898 30.1372 117.7 30.4405 117.407 30.6632C117.113 30.886 116.755 30.9973 116.333 30.9973V30.9971Z"
               fill="#0A1E29" />
           <path fill-rule="evenodd" clip-rule="evenodd"
               d="M11.9101 0C18.4879 0 23.8202 5.43628 23.8202 12.1423C23.8202 18.8484 18.4879 24.2846 11.9101 24.2846C5.33225 24.2846 0 18.8484 0 12.1423C0 5.43628 5.33225 0 11.9101 0ZM14.1398 18.9174H9.69391C8.67531 18.9445 7.844 17.893 8.08539 16.884L9.40758 12.3379C8.31215 11.3947 7.81251 9.90708 8.12648 8.43664C8.4411 6.96413 9.62531 5.76602 11.073 5.45552C12.2437 5.2037 13.4385 5.49329 14.3507 6.24769C15.263 7.00256 15.7863 8.12181 15.7863 9.31825C15.7863 10.4893 15.2796 11.5895 14.4128 12.337L15.738 16.8417C15.9955 17.8964 15.1808 18.9327 14.1402 18.9174H14.1398H14.1398Z"
               fill="#059661" />
           <path
               d="M11.7482 30.2121C7.97114 30.2121 4.1941 28.7476 1.31716 25.8187C0.765396 25.2651 0.730184 24.3612 1.25026 23.7647C1.78727 23.1486 2.7116 23.0931 3.31576 23.6404L3.31661 23.6412C3.33797 23.6606 3.35888 23.6806 3.37913 23.7012C7.98963 28.4014 15.4884 28.4063 20.1043 23.7145C20.37 23.4365 20.7412 23.2639 21.1519 23.2639C21.96 23.2639 22.6153 23.9315 22.6153 24.7553C22.6153 25.151 22.4611 25.5312 22.1866 25.8109C19.3087 28.745 15.5285 30.212 11.7482 30.212H11.7482L11.7482 30.2121Z"
               fill="#059661" fill-opacity="0.980392" />
           <path
               d="M21.1523 23.2647C20.7416 23.2647 20.3703 23.4373 20.1046 23.7152C17.7987 26.0591 14.7735 27.2307 11.748 27.2305V30.2129L11.7486 30.2128C15.5288 30.2128 19.309 28.7459 22.187 25.8118C22.4614 25.532 22.6156 25.1518 22.6156 24.7562C22.6155 23.9321 21.9605 23.2646 21.1523 23.2646V23.2647Z"
               fill="#12BA74" fill-opacity="0.980392" />
       </svg>

       <div class="nin-auth-step-container">
           <div class="nin-auth-step">
              <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22ZM17.4571 9.45711L11 15.9142L6.79289 11.7071L8.20711 10.2929L11 13.0858L16.0429 8.04289L17.4571 9.45711Z" fill="#00A86B"/>
</svg>
               <p class="nin-auth-submission-text active">
                   NIN Submission
               </p>
           </div>
           <div class="horizontal-container">
               <div class="horizontal-line"></div>
           </div>
           <div class="nin-auth-step">
               <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                   <path
                       d="M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22ZM17.4571 9.45711L11 15.9142L6.79289 11.7071L8.20711 10.2929L11 13.0858L16.0429 8.04289L17.4571 9.45711Z"
                       fill="#E4E1DC" />
               </svg>
               <p class="nin-auth-submission-text">
                   Facial Verification
               </p>

           </div>
           <div class="horizontal-container">
               <div class="horizontal-line"></div>
           </div>
           <div class="nin-auth-step">
               <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                   <path
                       d="M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22ZM17.4571 9.45711L11 15.9142L6.79289 11.7071L8.20711 10.2929L11 13.0858L16.0429 8.04289L17.4571 9.45711Z"
                       fill="#E4E1DC" />
               </svg>
               <p class="nin-auth-submission-text">
                   Data Consent
               </p>
           </div>
       </div>
   </div>
   <div class="main-content">
         <div class="form-content">
           <header class="header-container">
               <h1>
                   Take A Selfie
               </h1>
               <p class="heading-title">
                   Please make sure that your face is in the frame and clearly visible
               </p>
           </header>

           <div class="nin-auth-form" id="nin-auth-form">
               <!-- webcam here -->

               <div class="camera-container">
                   <video id="video-preview" autoplay playsinline></video>
                   <img id="picture-preview">
                   <div class="camera-overlay">
                   </div>
               </div>
               <div class="status-message">
               </div>

               <div class="button-container">
                   <button id="capturePhoto" onclick="capturePhoto()" type="submit" class="nin-auth-submit">Take selfie
                       <div class="take-photo-icon"> <svg width="21" height="20" viewBox="0 0 21 20"
                               fill="none" xmlns="http://www.w3.org/2000/svg">
                               <path
                                   d="M4.66667 5.83301H5.5C5.94203 5.83301 6.36595 5.65741 6.67851 5.34485C6.99107 5.03229 7.16667 4.60837 7.16667 4.16634C7.16667 3.94533 7.25446 3.73337 7.41074 3.57709C7.56702 3.42081 7.77899 3.33301 8 3.33301H13C13.221 3.33301 13.433 3.42081 13.5893 3.57709C13.7455 3.73337 13.8333 3.94533 13.8333 4.16634C13.8333 4.60837 14.0089 5.03229 14.3215 5.34485C14.634 5.65741 15.058 5.83301 15.5 5.83301H16.3333C16.7754 5.83301 17.1993 6.0086 17.5118 6.32116C17.8244 6.63372 18 7.05765 18 7.49967V14.9997C18 15.4417 17.8244 15.8656 17.5118 16.1782C17.1993 16.4907 16.7754 16.6663 16.3333 16.6663H4.66667C4.22464 16.6663 3.80072 16.4907 3.48816 16.1782C3.17559 15.8656 3 15.4417 3 14.9997V7.49967C3 7.05765 3.17559 6.63372 3.48816 6.32116C3.80072 6.0086 4.22464 5.83301 4.66667 5.83301Z"
                                   stroke="white" stroke-width="1.5" stroke-linecap="round"
                                   stroke-linejoin="round" />
                               <path
                                   d="M8 10.833C8 11.496 8.26339 12.1319 8.73223 12.6008C9.20107 13.0696 9.83696 13.333 10.5 13.333C11.163 13.333 11.7989 13.0696 12.2678 12.6008C12.7366 12.1319 13 11.496 13 10.833C13 10.17 12.7366 9.53408 12.2678 9.06524C11.7989 8.5964 11.163 8.33301 10.5 8.33301C9.83696 8.33301 9.20107 8.5964 8.73223 9.06524C8.26339 9.53408 8 10.17 8 10.833Z"
                                   stroke="white" stroke-width="1.5" stroke-linecap="round"
                                   stroke-linejoin="round" />
                           </svg> </div>

                       <div class="spinner"></div>

                   </button>

                   <button id="loadStep1" class="back-button" onclick="loadStep1()">
                       <svg width="24" height="24" viewBox="0 0 24 24" fill="none"
                           xmlns="http://www.w3.org/2000/svg">
                           <path d="M15 6L9 12L15 18" stroke="#00A86B" stroke-width="2" stroke-linecap="round"
                               stroke-linejoin="round" />
                       </svg>
                       Back

                   </button>
               </div>
               <div class="captured-actions">
                   <button id="retake-button" class="retake-button" onclick="retakePhoto()">
                       <svg width="21" height="20" viewBox="0 0 21 20" fill="none"
                           xmlns="http://www.w3.org/2000/svg">
                           <path
                               d="M17.1673 9.16658C16.9635 7.7001 16.2832 6.3413 15.2312 5.2995C14.1792 4.25769 12.8138 3.59068 11.3454 3.40121C9.87697 3.21174 8.387 3.51032 7.10499 4.25096C5.82297 4.99159 4.82003 6.1332 4.25065 7.49992M3.83398 4.16658V7.49992H7.16732M3.83398 10.8332C4.03778 12.2997 4.71809 13.6585 5.77012 14.7003C6.82214 15.7421 8.18752 16.4091 9.65593 16.5986C11.1243 16.7881 12.6143 16.4895 13.8963 15.7489C15.1783 15.0082 16.1813 13.8666 16.7507 12.4999M17.1673 15.8332V12.4999H13.834"
                               stroke="#00A86B" stroke-width="1.5" stroke-linecap="round"
                               stroke-linejoin="round" />
                       </svg>

                       Retake selfie</button>
                   <button id="use-photo-button" class="use-photo-button" onclick="usePhoto()">Use photo</button>
               </div>
               <div class="nin-auth-footer">
                   <svg width="17" height="18" viewBox="0 0 17 18" fill="none"
                       xmlns="http://www.w3.org/2000/svg">
                       <path
                           d="M13.4583 7.58366H14.1667C14.5579 7.58366 14.875 7.90078 14.875 8.29199V15.3753C14.875 15.7665 14.5579 16.0837 14.1667 16.0837H2.83333C2.44213 16.0837 2.125 15.7665 2.125 15.3753V8.29199C2.125 7.90078 2.44213 7.58366 2.83333 7.58366H3.54167V6.87533C3.54167 4.13692 5.76159 1.91699 8.5 1.91699C11.2384 1.91699 13.4583 4.13692 13.4583 6.87533V7.58366ZM12.0417 7.58366V6.87533C12.0417 4.91932 10.456 3.33366 8.5 3.33366C6.54399 3.33366 4.95833 4.91932 4.95833 6.87533V7.58366H12.0417ZM7.79167 10.417V13.2503H9.20833V10.417H7.79167Z"
                           fill="#4B5363" />
                   </svg>
                   YOUR DATA IS ENCRYPTED AND SECURED BY NINAUTH
               </div>
           </div>

       </div>
   </div>
   `;
   document.getElementById("use-photo-button").addEventListener("onclick", usePhoto);
   document.getElementById("retake-button").addEventListener("onclick", retakePhoto);
   document.getElementById("loadStep1").addEventListener("onclick", loadStep1);
}

function loadStep3() {


   document.querySelector('.nin-auth-modal').innerHTML = `
             <button id="nin-auth-close" class="nin-auth-close">
       <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
           <g clip-path="url(#clip0_9397_28110)">
               <path d="M15 5L5 15" stroke="white" stroke-width="1.5" stroke-linecap="round"
                   stroke-linejoin="round" />
               <path d="M5 5L15 15" stroke="white" stroke-width="1.5" stroke-linecap="round"
                   stroke-linejoin="round" />
           </g>
           <defs>
               <clipPath id="clip0_9397_28110">
                   <rect width="20" height="20" fill="white" />
               </clipPath>
           </defs>
       </svg>

   </button>
   <div class="nin-auth-steps">
       <svg width="118" height="32" viewBox="0 0 118 32" fill="none" xmlns="http://www.w3.org/2000/svg">
           <path
               d="M27.8848 21.9748V3.80762H31.016L39.1877 17.1735V3.80762H42.0388V21.9748H38.9076L30.7106 8.63495V21.9748H27.8848Z"
               fill="#059661" />
           <path d="M44.6797 21.9748V3.80762H47.6581V21.9748H44.6797Z" fill="#059661" />
           <path
               d="M50.3008 21.9748V3.80762H53.432L61.6036 17.1735V3.80762H64.4548V21.9748H61.3236L53.1265 8.63495V21.9748H50.3008Z"
               fill="#059661" />
           <path
               d="M79.1135 21.9748L77.5351 17.6925H70.2036L68.6252 21.9748H65.5449L72.4692 3.80762H75.244L82.1938 21.9748H79.1135ZM71.171 15.0713H76.5678L73.8694 7.80435L71.171 15.0713Z"
               fill="#0A1E29" />
           <path
               d="M94.4834 8.89453V21.9749H91.7086V19.7949C91.2673 20.5216 90.6818 21.1012 89.9521 21.5337C89.2223 21.9663 88.4077 22.1825 87.5083 22.1825C86.1166 22.1825 84.9923 21.7544 84.1352 20.8979C83.2782 20.0415 82.8496 18.9125 82.8496 17.5111V8.8946H85.6244V16.8622C85.6244 17.6927 85.862 18.3632 86.3372 18.8735C86.8124 19.384 87.4573 19.6392 88.2719 19.6392C89.3411 19.6392 90.1812 19.198 90.7921 18.3156C91.4031 17.4331 91.7086 16.2047 91.7086 14.6303V8.8946H94.4834V8.89453Z"
               fill="#0A1E29" />
           <path
               d="M104.178 21.8705C103.567 22.0781 102.889 22.1819 102.142 22.1819C100.869 22.1819 99.8464 21.8186 99.0743 21.0919C98.3021 20.3652 97.916 19.2838 97.916 17.8478V11.3075H95.6758V8.89388H97.916V5.00098H100.691V8.89388H104V11.3075H100.691V17.692C100.691 18.3322 100.848 18.8209 101.162 19.1583C101.476 19.4958 101.904 19.6644 102.447 19.6644C103.058 19.6644 103.576 19.5606 104 19.353L104.178 21.8704L104.178 21.8705Z"
               fill="#0A1E29" />
           <path
               d="M106.107 21.9744V3.59961H108.882V11.152C109.782 9.50836 111.182 8.68642 113.083 8.68642C114.542 8.68642 115.709 9.11468 116.583 9.97111C117.457 10.8276 117.894 11.9652 117.894 13.3839V21.9744H115.119V14.0328C115.119 13.1677 114.869 12.4843 114.368 11.9825C113.868 11.4808 113.184 11.2299 112.319 11.2299C111.25 11.2299 110.41 11.6798 109.799 12.5795C109.188 13.4792 108.882 14.725 108.882 16.3168V21.9745H106.107V21.9744Z"
               fill="#0A1E29" />
           <path
               d="M98.5299 30.9971C98.3227 30.9971 98.1325 30.953 97.9593 30.8647C97.786 30.7764 97.6674 30.665 97.6033 30.5306V30.9511H97.123V26.873H97.6033V28.4628C97.6937 28.3246 97.8245 28.2132 97.996 28.1287C98.1674 28.0442 98.3472 28.002 98.5355 28.002C98.9649 28.002 99.3001 28.1412 99.5412 28.4196C99.7822 28.6979 99.9027 29.058 99.9027 29.4996C99.9027 29.9412 99.7813 30.3012 99.5383 30.5796C99.2954 30.858 98.9592 30.9972 98.5298 30.9972L98.5299 30.9971ZM97.8152 30.2686C97.9828 30.4624 98.206 30.5594 98.4847 30.5594C98.7634 30.5594 98.9876 30.4624 99.157 30.2686C99.3265 30.0746 99.4112 29.8183 99.4112 29.4996C99.4112 29.1808 99.3264 28.9245 99.157 28.7306C98.9875 28.5366 98.7634 28.4397 98.4847 28.4397C98.206 28.4397 97.9828 28.5366 97.8152 28.7306C97.6476 28.9245 97.5638 29.1808 97.5638 29.4996C97.5638 29.8183 97.6476 30.0746 97.8152 30.2686Z"
               fill="#0A1E29" />
           <path
               d="M102.299 28.0488H102.791L101.299 32.0002H100.808L101.22 30.9115L100.107 28.0488H100.627L101.463 30.2722L102.299 28.0488Z"
               fill="#0A1E29" />
           <path
               d="M104.639 30.9519V26.9199H105.209L107.204 30.1282V26.9199H107.707V30.9519H107.136L105.142 27.7551V30.9519H104.639Z"
               fill="#0A1E29" />
           <path d="M108.531 30.9519V26.9199H109.045V30.9519H108.531Z" fill="#0A1E29" />
           <path
               d="M109.863 30.9519V26.9199H110.485L111.818 30.1916L113.151 26.9199H113.773V30.9519H113.264V27.9106L112.033 30.9519H111.603L110.366 27.9106V30.9519H109.863Z"
               fill="#0A1E29" />
           <path
               d="M116.333 30.9971C115.798 30.9971 115.344 30.8176 114.971 30.4586C114.599 30.0996 114.412 29.5917 114.412 28.9351C114.412 28.2785 114.599 27.7706 114.974 27.4116C115.349 27.0526 115.802 26.873 116.333 26.873C116.762 26.873 117.127 26.9873 117.426 27.2158C117.726 27.4443 117.917 27.7543 118 28.146L117.491 28.2612C117.427 27.9695 117.295 27.7429 117.093 27.5816C116.891 27.4203 116.636 27.3397 116.327 27.3397C115.913 27.3397 115.579 27.4799 115.325 27.7602C115.07 28.0405 114.943 28.4322 114.943 28.9352C114.943 29.4382 115.07 29.8289 115.325 30.1073C115.579 30.3857 115.913 30.5249 116.327 30.5249C116.633 30.5249 116.884 30.4481 117.082 30.2945C117.279 30.141 117.414 29.924 117.486 29.6437L118 29.7532C117.898 30.1372 117.7 30.4405 117.407 30.6632C117.113 30.886 116.755 30.9973 116.333 30.9973V30.9971Z"
               fill="#0A1E29" />
           <path fill-rule="evenodd" clip-rule="evenodd"
               d="M11.9101 0C18.4879 0 23.8202 5.43628 23.8202 12.1423C23.8202 18.8484 18.4879 24.2846 11.9101 24.2846C5.33225 24.2846 0 18.8484 0 12.1423C0 5.43628 5.33225 0 11.9101 0ZM14.1398 18.9174H9.69391C8.67531 18.9445 7.844 17.893 8.08539 16.884L9.40758 12.3379C8.31215 11.3947 7.81251 9.90708 8.12648 8.43664C8.4411 6.96413 9.62531 5.76602 11.073 5.45552C12.2437 5.2037 13.4385 5.49329 14.3507 6.24769C15.263 7.00256 15.7863 8.12181 15.7863 9.31825C15.7863 10.4893 15.2796 11.5895 14.4128 12.337L15.738 16.8417C15.9955 17.8964 15.1808 18.9327 14.1402 18.9174H14.1398H14.1398Z"
               fill="#059661" />
           <path
               d="M11.7482 30.2121C7.97114 30.2121 4.1941 28.7476 1.31716 25.8187C0.765396 25.2651 0.730184 24.3612 1.25026 23.7647C1.78727 23.1486 2.7116 23.0931 3.31576 23.6404L3.31661 23.6412C3.33797 23.6606 3.35888 23.6806 3.37913 23.7012C7.98963 28.4014 15.4884 28.4063 20.1043 23.7145C20.37 23.4365 20.7412 23.2639 21.1519 23.2639C21.96 23.2639 22.6153 23.9315 22.6153 24.7553C22.6153 25.151 22.4611 25.5312 22.1866 25.8109C19.3087 28.745 15.5285 30.212 11.7482 30.212H11.7482L11.7482 30.2121Z"
               fill="#059661" fill-opacity="0.980392" />
           <path
               d="M21.1523 23.2647C20.7416 23.2647 20.3703 23.4373 20.1046 23.7152C17.7987 26.0591 14.7735 27.2307 11.748 27.2305V30.2129L11.7486 30.2128C15.5288 30.2128 19.309 28.7459 22.187 25.8118C22.4614 25.532 22.6156 25.1518 22.6156 24.7562C22.6155 23.9321 21.9605 23.2646 21.1523 23.2646V23.2647Z"
               fill="#12BA74" fill-opacity="0.980392" />
       </svg>

       <div class="nin-auth-step-container">
           <div class="nin-auth-step">
              <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22ZM17.4571 9.45711L11 15.9142L6.79289 11.7071L8.20711 10.2929L11 13.0858L16.0429 8.04289L17.4571 9.45711Z" fill="#00A86B"/>
</svg>
               <p class="nin-auth-submission-text active">
                   NIN Submission
               </p>
           </div>
           <div class="horizontal-container">
               <div class="horizontal-line"></div>
           </div>
           <div class="nin-auth-step">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22ZM17.4571 9.45711L11 15.9142L6.79289 11.7071L8.20711 10.2929L11 13.0858L16.0429 8.04289L17.4571 9.45711Z" fill="#00A86B"/>
</svg>
               <p class="nin-auth-submission-text active">
                   Facial Verification
               </p>

           </div>
           <div class="horizontal-container">
               <div class="horizontal-line"></div>
           </div>
           <div class="nin-auth-step">
               <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                   <path
                       d="M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22ZM17.4571 9.45711L11 15.9142L6.79289 11.7071L8.20711 10.2929L11 13.0858L16.0429 8.04289L17.4571 9.45711Z"
                       fill="#E4E1DC" />
               </svg>
               <p class="nin-auth-submission-text">
                   Data Consent
               </p>
           </div>
       </div>
   </div>
   <div class="main-content">
       <div  id="successContainer" class="form-content">
           <header class="header-container-2">
               <svg width="78" height="77" viewBox="0 0 78 77" fill="none" xmlns="http://www.w3.org/2000/svg">
                   <g filter="url(#filter0_d_9404_28394)">
                       <rect x="0.5" width="75" height="75" rx="37.5" fill="#0FFF9B" fill-opacity="0.980392"
                           shape-rendering="crispEdges" />
                       <path
                           d="M34.1652 42.2845L49.4859 26.9639L51.8429 29.3209L34.1652 46.9985L23.5586 36.392L25.9156 34.035L34.1652 42.2845Z"
                           fill="black" />
                   </g>
                   <defs>
                       <filter id="filter0_d_9404_28394" x="0.5" y="0" width="77" height="77"
                           filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
                           <feFlood flood-opacity="0" result="BackgroundImageFix" />
                           <feColorMatrix in="SourceAlpha" type="matrix"
                               values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha" />
                           <feOffset dx="2" dy="2" />
                           <feComposite in2="hardAlpha" operator="out" />
                           <feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0" />
                           <feBlend mode="normal" in2="BackgroundImageFix"
                               result="effect1_dropShadow_9404_28394" />
                           <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_9404_28394"
                               result="shape" />
                       </filter>
                   </defs>
               </svg>
<div class="mb-8">  <h1>
                   Verification Successful
               </h1>
               <p class="heading-title">
                   Your identity has been successfully verified.
               </p> </div>

           </header>

           <div class="nin-auth-form" id="nin-auth-form">
               <div class="button-container">
                   <button id="consentScreen" onclick="consentScreen()" type="submit" class="nin-auth-submit">Continue
                   </button>

                   <button  id="loadStep2" onclick="loadStep2()" class="back-button">
                       <svg width="24" height="24" viewBox="0 0 24 24" fill="none"
                           xmlns="http://www.w3.org/2000/svg">
                           <path d="M15 6L9 12L15 18" stroke="#00A86B" stroke-width="2" stroke-linecap="round"
                               stroke-linejoin="round" />
                       </svg>
                       Back
                   </button>
               </div>
               </form>

               <div class="nin-auth-footer">
                   <svg width="17" height="18" viewBox="0 0 17 18" fill="none"
                       xmlns="http://www.w3.org/2000/svg">
                       <path
                           d="M13.4583 7.58366H14.1667C14.5579 7.58366 14.875 7.90078 14.875 8.29199V15.3753C14.875 15.7665 14.5579 16.0837 14.1667 16.0837H2.83333C2.44213 16.0837 2.125 15.7665 2.125 15.3753V8.29199C2.125 7.90078 2.44213 7.58366 2.83333 7.58366H3.54167V6.87533C3.54167 4.13692 5.76159 1.91699 8.5 1.91699C11.2384 1.91699 13.4583 4.13692 13.4583 6.87533V7.58366ZM12.0417 7.58366V6.87533C12.0417 4.91932 10.456 3.33366 8.5 3.33366C6.54399 3.33366 4.95833 4.91932 4.95833 6.87533V7.58366H12.0417ZM7.79167 10.417V13.2503H9.20833V10.417H7.79167Z"
                           fill="#4B5363" />
                   </svg>
                   YOUR DATA IS ENCRYPTED AND SECURED BY NINAUTH
               </div>
           </div>
       </div>




       <!-- failed screen -->
       <div id="failedContainer" class="form-content">
           <header class="header-container-2">
               <svg width="92" height="105" viewBox="0 0 92 105" fill="none"
                   xmlns="http://www.w3.org/2000/svg">
                   <path
                       d="M45.8793 0C46.1412 0.0243938 46.2838 0.206461 46.456 0.385918C46.5033 0.434187 46.5033 0.434187 46.5515 0.483431C46.7485 0.685995 46.9361 0.894637 47.119 1.10997C47.2945 1.30566 47.4823 1.48885 47.6704 1.67231C47.8269 1.8262 47.9749 1.98368 48.1173 2.15079C48.3736 2.44514 48.6481 2.72002 48.9242 2.99569C49.0058 3.07742 49.0058 3.07742 49.0891 3.16079C49.2035 3.2754 49.3181 3.38989 49.4327 3.50432C49.5784 3.64975 49.7238 3.79544 49.8691 3.94122C50.0095 4.08194 50.1501 4.22243 50.2907 4.36294C50.3422 4.41465 50.3938 4.46636 50.4469 4.51964C50.7062 4.77808 50.9688 5.02865 51.2468 5.26696C51.3868 5.38719 51.5218 5.51278 51.6574 5.63808C51.9197 5.87744 52.1893 6.10422 52.4655 6.32722C52.6595 6.48623 52.849 6.64993 53.0385 6.81421C53.4434 7.16357 53.8603 7.49491 54.2838 7.82127C54.3219 7.85074 54.3599 7.88021 54.3992 7.91057C55.4265 8.7049 56.4706 9.46883 57.5481 10.1939C57.6726 10.2777 57.7967 10.3619 57.9208 10.4464C59.0469 11.2102 60.2151 11.9083 61.3952 12.5846C61.4506 12.6166 61.506 12.6486 61.5631 12.6816C65.7933 15.1211 70.3359 17.0385 75.0154 18.4259C75.1108 18.4542 75.2063 18.4827 75.3017 18.5112C76.2003 18.7798 77.1032 19.0249 78.0132 19.2518C78.0783 19.2681 78.1434 19.2844 78.2104 19.3012C80.3171 19.8269 82.4493 20.254 84.5957 20.5823C84.6447 20.5898 84.6938 20.5973 84.7443 20.605C86.3492 20.8493 87.9595 21.0128 89.5752 21.1656C89.7913 21.186 90.0075 21.2066 90.2237 21.2271C90.6447 21.2671 91.0657 21.307 91.4868 21.3468C91.4895 23.6361 91.4915 25.9254 91.4928 28.2147C91.4929 28.4873 91.4931 28.7599 91.4932 29.0325C91.4932 29.0867 91.4933 29.141 91.4933 29.1969C91.4938 30.066 91.4947 30.935 91.4958 31.8041C91.4969 32.7013 91.4976 33.5985 91.4978 34.4957C91.498 34.9973 91.4983 35.499 91.4992 36.0006C91.5046 39.173 91.4893 42.3511 91.2517 45.5163C91.2481 45.5649 91.2445 45.6136 91.2408 45.6637C90.97 49.3335 90.5931 53.0231 89.8752 56.6348C89.8368 56.8289 89.7988 57.0232 89.7609 57.2174C88.9904 61.1575 88.9904 61.1575 88.5047 62.8918C88.438 63.1303 88.3739 63.3695 88.3105 63.6089C87.6608 66.0446 86.8766 68.4488 85.9531 70.7942C85.9049 70.9169 85.857 71.0397 85.8093 71.1625C84.7838 73.7955 83.5887 76.3976 82.1632 78.8384C82.0612 79.0153 81.9639 79.1945 81.8666 79.374C81.5122 80.0261 81.1172 80.6519 80.7202 81.2786C80.6238 81.4312 80.5285 81.5844 80.4336 81.7379C79.575 83.123 78.6204 84.4566 77.6164 85.7399C77.5654 85.8056 77.5144 85.8712 77.4633 85.9368C76.6491 86.9813 75.8022 87.993 74.9129 88.9743C74.873 89.019 74.8331 89.0638 74.7919 89.1098C74.6566 89.2613 74.5205 89.412 74.384 89.5624C74.3576 89.5915 74.3313 89.6206 74.3042 89.6505C73.8189 90.1845 73.3138 90.6982 72.8045 91.209C72.7727 91.2409 72.741 91.2727 72.7083 91.3056C72.3907 91.6246 72.0723 91.9396 71.7299 92.2324C71.5347 92.4017 71.3496 92.5818 71.1625 92.76C70.845 93.0602 70.5233 93.3458 70.1815 93.6182C70.0332 93.7389 69.8926 93.8654 69.752 93.9949C69.4254 94.2922 69.0793 94.5612 68.7304 94.8313C68.6271 94.9116 68.5243 94.9926 68.4218 95.0739C64.4121 98.2524 59.8864 100.895 54.0487 103.088C53.9829 103.112 53.9171 103.136 53.8493 103.161C52.9074 103.502 51.9515 103.799 50.9925 104.088C50.9324 104.106 50.8723 104.124 50.8104 104.143C49.9938 104.393 49.1689 104.582 48.333 104.753C48.2839 104.763 48.2348 104.773 48.1842 104.783C45.5844 105.313 43.3059 104.798 40.7924 104.032C40.6492 103.988 40.506 103.945 40.3626 103.902C38.0018 103.193 35.7219 102.291 33.4935 101.238C33.319 101.155 33.144 101.074 32.9689 100.993C32.2788 100.671 31.6093 100.319 30.9447 99.9482C30.7702 99.851 30.5953 99.7548 30.4203 99.6587C29.2528 99.0148 28.1061 98.3309 27.0059 97.5767C26.8815 97.4915 26.7566 97.407 26.6318 97.3225C25.6578 96.662 24.7097 95.9735 23.7854 95.245C23.6716 95.1555 23.5574 95.0667 23.4429 94.9781C22.9902 94.6269 22.5528 94.2608 22.1203 93.8851C22.0187 93.7974 21.9165 93.7105 21.814 93.6239C21.4077 93.28 21.0127 92.9266 20.6262 92.5605C20.4526 92.3962 20.2773 92.2355 20.0959 92.0798C19.8364 91.8531 19.5921 91.6131 19.3488 91.3691C19.3035 91.3238 19.2582 91.2785 19.2115 91.2318C19.1163 91.1367 19.0212 91.0414 18.9262 90.9461C18.7819 90.8014 18.6373 90.657 18.4926 90.5126C18.3996 90.4195 18.3067 90.3265 18.2138 90.2334C18.1497 90.1695 18.1497 90.1695 18.0844 90.1043C17.849 89.8677 17.6234 89.6258 17.4059 89.3725C17.2653 89.2098 17.1176 89.0539 16.9706 88.8971C16.7038 88.6105 16.4523 88.3155 16.2072 88.01C16.0841 87.8599 15.9559 87.7168 15.8245 87.574C15.5272 87.247 15.2582 86.9004 14.9881 86.551C14.9095 86.4499 14.8301 86.3494 14.7503 86.2492C14.3325 85.7239 13.9332 85.1858 13.538 84.6433C13.4453 84.5165 13.3518 84.3904 13.258 84.2645C11.4317 81.7951 9.85953 79.0984 8.50628 76.3451C8.42626 76.183 8.34486 76.0216 8.26336 75.8602C8.16494 75.6647 8.0679 75.4686 7.97104 75.2724C7.95051 75.2309 7.92997 75.1895 7.90882 75.1468C7.13754 73.5828 6.4597 71.9679 5.85523 70.3326C5.80373 70.1948 5.75222 70.057 5.70072 69.9191C5.54809 69.5088 5.39854 69.0973 5.25067 68.6852C5.20884 68.5687 5.16679 68.4524 5.12473 68.336C4.05687 65.3726 3.2703 62.2962 2.61407 59.2171C2.56889 59.0052 2.52222 58.7936 2.47535 58.5821C1.32222 53.2931 0.749043 47.804 0.565703 42.3995C0.563359 42.3319 0.561015 42.2642 0.5586 42.1945C0.517291 40.9817 0.498389 39.7706 0.500107 38.5572C0.500368 38.3248 0.500277 38.0924 0.500233 37.86C0.500202 37.4601 0.500383 37.0601 0.500717 36.6601C0.501201 36.0818 0.501347 35.5036 0.50142 34.9253C0.501548 33.9865 0.501937 33.0476 0.502496 32.1088C0.503038 31.1983 0.503453 30.2879 0.503702 29.3774C0.503717 29.321 0.503732 29.2646 0.503748 29.2065C0.503825 28.9236 0.503898 28.6406 0.503971 28.3577C0.504577 26.0207 0.505612 23.6837 0.50693 21.3468C0.541374 21.3434 0.575819 21.34 0.611307 21.3366C0.977768 21.3008 1.34422 21.2649 1.71068 21.229C1.84649 21.2157 1.98231 21.2025 2.11812 21.1892C2.83268 21.1194 3.54717 21.049 4.26141 20.9759C4.31642 20.9703 4.37144 20.9647 4.42811 20.9589C5.77413 20.8207 7.10845 20.6393 8.44122 20.4059C8.49079 20.3972 8.54037 20.3886 8.59144 20.3797C10.1368 20.1097 11.6685 19.7928 13.1959 19.435C13.3782 19.3924 13.5607 19.3507 13.7431 19.3088C14.502 19.1327 15.25 18.9289 15.9956 18.7032C16.1388 18.6599 16.2821 18.617 16.4255 18.5745C18.4278 17.9807 20.4216 17.3382 22.3546 16.5447C22.5551 16.4624 22.7561 16.3813 22.9571 16.3002C25.0582 15.4475 27.1382 14.4948 29.1291 13.4079C29.1866 13.3767 29.244 13.3456 29.3032 13.3135C30.3424 12.7485 31.3558 12.148 32.3616 11.5261C32.4248 11.4872 32.488 11.4484 32.553 11.4084C33.347 10.9198 34.1255 10.4146 34.8888 9.8795C34.9307 9.85035 34.9725 9.82121 35.0156 9.79117C36.2699 8.91706 37.4786 7.99288 38.662 7.02549C38.7545 6.95005 38.8472 6.87498 38.94 6.79997C39.6316 6.23938 40.2982 5.65143 40.9482 5.04316C41.0334 4.9643 41.1194 4.88619 41.2056 4.80843C41.6913 4.36889 42.1564 3.91051 42.6187 3.44654C42.7478 3.31705 42.8772 3.18789 43.0067 3.05874C43.089 2.97633 43.1713 2.89391 43.2536 2.81146C43.2922 2.77293 43.3308 2.73441 43.3706 2.69471C43.406 2.65913 43.4414 2.62356 43.4778 2.5869C43.509 2.55568 43.5401 2.52446 43.5722 2.4923C43.6525 2.4112 43.6525 2.4112 43.7047 2.29346C43.7435 2.29346 43.7823 2.29346 43.8223 2.29346C43.8354 2.26101 43.8485 2.22857 43.862 2.19514C43.9642 2.01527 44.096 1.89314 44.2447 1.74949C44.4306 1.56777 44.6134 1.38623 44.781 1.18716C45.0185 0.907511 45.2821 0.653488 45.5437 0.396758C45.5785 0.362404 45.6134 0.32805 45.6493 0.292654C45.6966 0.246333 45.6966 0.246333 45.7449 0.199075C45.8272 0.11814 45.8272 0.11814 45.8793 0Z"
                       fill="#C62C2C" />
                   <path
                       d="M31.4976 34.8527C31.8732 35.151 32.2149 35.4728 32.5527 35.813C32.6109 35.8711 32.6691 35.9293 32.7273 35.9874C32.8858 36.1456 33.0438 36.3043 33.2018 36.4629C33.3728 36.6345 33.5442 36.8058 33.7155 36.9771C34.0117 37.2735 34.3078 37.5701 34.6037 37.8668C35.0315 38.2958 35.4596 38.7245 35.8878 39.1531C36.5826 39.8486 37.2772 40.5443 37.9716 41.2403C38.6459 41.916 39.3203 42.5917 39.9949 43.2671C40.0365 43.3088 40.0782 43.3505 40.121 43.3935C40.3299 43.6026 40.5387 43.8117 40.7476 44.0208C42.4784 45.7538 44.2088 47.4873 45.9389 49.221C46.1386 49.1346 46.2683 49.0234 46.4214 48.8697C46.4706 48.8205 46.5198 48.7714 46.5705 48.7208C46.6242 48.6665 46.678 48.6122 46.7334 48.5562C46.7913 48.4982 46.8492 48.4402 46.9072 48.3822C47.0665 48.2226 47.2254 48.0626 47.3843 47.9026C47.5557 47.7301 47.7274 47.558 47.8991 47.3858C48.1967 47.0873 48.4941 46.7886 48.7913 46.4898C49.2217 46.0572 49.6525 45.625 50.0835 45.1929C50.7834 44.4912 51.4831 43.7893 52.1827 43.0872C52.2455 43.0241 52.2455 43.0241 52.3096 42.9598C52.9034 42.3638 53.497 41.7677 54.0905 41.1715C54.1531 41.1086 54.1531 41.1086 54.217 41.0444C54.2587 41.0025 54.3004 40.9606 54.3434 40.9175C55.0396 40.2181 55.7363 39.5193 56.4333 38.8208C56.863 38.3901 57.2923 37.9591 57.7212 37.5276C58.0154 37.2316 58.31 36.936 58.6049 36.6408C58.775 36.4706 58.9448 36.3003 59.114 36.1294C59.2693 35.9726 59.4252 35.8164 59.5814 35.6606C59.664 35.5781 59.7459 35.495 59.8278 35.4118C60.6154 34.63 61.479 34.238 62.5862 34.2033C63.4872 34.2188 64.3881 34.5406 65.0498 35.1665C65.8466 36.0351 66.1442 36.9299 66.1199 38.0843C66.0844 38.7992 65.8204 39.4167 65.3926 39.9884C65.352 40.0427 65.3115 40.0971 65.2697 40.1531C65.2327 40.1958 65.1956 40.2385 65.1575 40.2824C65.1187 40.2824 65.0799 40.2824 65.0399 40.2824C65.0277 40.3146 65.0154 40.3469 65.0027 40.3801C64.893 40.5681 64.7388 40.6954 64.5771 40.8374C64.2986 41.0874 64.0378 41.3459 63.7873 41.624C63.6072 41.8236 63.4286 42.0175 63.2217 42.19C62.9595 42.4085 62.7353 42.6611 62.5079 42.9148C62.3469 43.0925 62.1828 43.2575 62.0003 43.4131C61.7526 43.6283 61.5197 43.8555 61.2883 44.088C61.2444 44.1318 61.2006 44.1756 61.1554 44.2208C61.0097 44.3664 60.8643 44.5123 60.7188 44.6582C60.6139 44.7632 60.509 44.8681 60.4042 44.973C60.179 45.1983 59.9539 45.4237 59.7289 45.6491C59.4036 45.9751 59.0781 46.301 58.7526 46.6267C58.2243 47.1554 57.6962 47.6842 57.1682 48.2131C56.6556 48.7266 56.1428 49.24 55.63 49.7534C55.5983 49.7851 55.5667 49.8168 55.5341 49.8494C55.3753 50.0084 55.2165 50.1674 55.0577 50.3263C53.7419 51.6435 52.4263 52.9609 51.1109 54.2784C51.1972 54.4781 51.3082 54.6078 51.4618 54.7608C51.5109 54.81 51.56 54.8592 51.6106 54.9098C51.6648 54.9635 51.719 55.0172 51.7749 55.0726C51.8328 55.1304 51.8908 55.1883 51.9487 55.2462C52.1081 55.4054 52.2679 55.5642 52.4277 55.7229C52.5999 55.8942 52.7718 56.0657 52.9438 56.2373C53.2419 56.5347 53.5403 56.8318 53.8387 57.1289C54.3108 57.5988 54.7823 58.0693 55.2538 58.5398C55.4151 58.7009 55.5765 58.8619 55.7378 59.0229C55.7782 59.0632 55.8185 59.1034 55.86 59.1449C56.3192 59.6032 56.7785 60.0613 57.2379 60.5193C57.2799 60.5612 57.3219 60.6031 57.3652 60.6462C58.0449 61.324 58.7249 62.0014 59.4051 62.6787C60.1038 63.3745 60.8019 64.0709 61.4995 64.7678C61.9296 65.1973 62.3601 65.6264 62.7912 66.0548C63.087 66.3489 63.3823 66.6435 63.6771 66.9385C63.847 67.1084 64.0171 67.2781 64.1879 67.4472C64.3447 67.6024 64.5007 67.7582 64.6563 67.9146C64.7385 67.997 64.8215 68.0786 64.9045 68.1602C65.5824 68.8455 66.1112 69.7009 66.1139 70.6881C66.1135 70.7442 66.113 70.8003 66.1125 70.8582C66.113 70.9141 66.1134 70.97 66.1139 71.0276C66.1113 71.9844 65.7052 72.819 65.062 73.5155C64.3322 74.2066 63.3966 74.5578 62.3969 74.5343C60.6555 74.4469 59.5952 73.0678 58.4502 71.92C58.2835 71.7529 58.1167 71.5861 57.9499 71.4192C57.6617 71.1309 57.3737 70.8425 57.0857 70.554C56.6693 70.1369 56.2528 69.72 55.8362 69.3031C55.1602 68.6266 54.4842 67.9499 53.8084 67.2731C53.1524 66.6161 52.4962 65.9592 51.84 65.3024C51.7995 65.2618 51.759 65.2212 51.7172 65.1794C51.5139 64.9759 51.3106 64.7724 51.1072 64.5688C49.4234 62.8835 47.7399 61.1979 46.0564 59.5122C45.6143 59.7255 45.2799 60.1058 44.9397 60.4531C44.8418 60.5511 44.7439 60.6491 44.6459 60.7471C44.611 60.782 44.5762 60.8168 44.5403 60.8527C44.4122 60.9808 44.284 61.1089 44.1559 61.237C44.0537 61.3392 43.9515 61.4413 43.8493 61.5435C43.7675 61.6252 43.7675 61.6252 43.6841 61.7086C42.4685 62.924 41.253 64.1394 40.0376 65.355C39.858 65.5347 39.6783 65.7144 39.4987 65.894C39.4629 65.9298 39.4272 65.9656 39.3903 66.0024C38.8109 66.5819 38.2314 67.1613 37.6519 67.7406C37.0564 68.3359 36.461 68.9313 35.8657 69.5269C35.4988 69.8939 35.1318 70.2608 34.7647 70.6277C34.513 70.8792 34.2614 71.1308 34.0099 71.3825C33.865 71.5276 33.72 71.6726 33.5749 71.8175C33.4172 71.975 33.2598 72.1325 33.1024 72.2902C33.0569 72.3355 33.0115 72.3809 32.9646 72.4276C32.7242 72.6688 32.4936 72.9151 32.272 73.1738C31.5712 73.9822 30.6608 74.4363 29.6045 74.5278C28.6211 74.553 27.7193 74.2182 26.9698 73.5803C26.3163 72.9321 25.8812 72.0577 25.8699 71.1325C25.8705 71.0759 25.8711 71.0194 25.8717 70.9611C25.8722 70.9017 25.8726 70.8423 25.8731 70.7812C25.8833 70.3192 25.9409 69.9341 26.1325 69.5093C26.1575 69.4536 26.1824 69.3979 26.2081 69.3404C26.5345 68.6845 27.0915 68.1882 27.6043 67.6768C27.662 67.619 27.7197 67.5613 27.7773 67.5035C27.9341 67.3465 28.0911 67.1896 28.2482 67.0328C28.4181 66.863 28.5878 66.6931 28.7576 66.5231C29.0512 66.2293 29.345 65.9356 29.6388 65.642C30.0636 65.2174 30.4882 64.7927 30.9128 64.3679C31.6018 63.6787 32.2909 62.9896 32.9801 62.3005C33.6493 61.6315 34.3184 60.9624 34.9875 60.2932C35.0288 60.2519 35.07 60.2106 35.1126 60.168C35.3197 59.9608 35.5269 59.7536 35.7341 59.5464C37.4507 57.8294 39.1675 56.1126 40.8844 54.396C40.597 54.0493 40.2869 53.7317 39.9678 53.4142C39.9108 53.3572 39.8539 53.3003 39.7969 53.2433C39.6411 53.0877 39.4852 52.9323 39.3292 52.7769C39.1607 52.6089 38.9924 52.4407 38.8241 52.2726C38.5325 51.9815 38.2409 51.6904 37.9493 51.3995C37.488 50.9393 37.027 50.4788 36.5661 50.0183C36.4082 49.8606 36.2503 49.7028 36.0924 49.5451C36.053 49.5057 36.0135 49.4663 35.9729 49.4257C35.5243 48.9775 35.0756 48.5294 34.6269 48.0813C34.5654 48.0198 34.5654 48.0198 34.5026 47.9572C33.8382 47.2937 33.1735 46.6304 32.5088 45.9672C31.8257 45.2855 31.1429 44.6036 30.4604 43.9213C30.0398 43.5009 29.6189 43.0807 29.1976 42.6609C28.9089 42.3731 28.6204 42.085 28.3323 41.7966C28.1661 41.6304 27.9999 41.4643 27.8332 41.2987C27.6804 41.1467 27.528 40.9944 27.3759 40.8417C27.2953 40.761 27.2143 40.6807 27.1332 40.6005C26.3522 39.814 25.8613 38.919 25.8203 37.7942C25.8451 36.8234 26.2244 35.9257 26.8966 35.2251C28.136 34.0542 30.0869 33.823 31.4976 34.8527Z"
                       fill="#FEFEFE" />
               </svg>

<div class="mb-8">    <h1>
                   Verification Failed
               </h1>
               <p class="heading-title">
                   The selfie does not match the NIN record. Please restart verification.
               </p> </div>


           </header>

           <div class="nin-auth-form" id="nin-auth-form">
               <div class="button-container">
                   <button id="loadStep1" onclick="loadStep1()" type="submit" class="nin-auth-submit">Restart
                       verification
                       <svg width="20" height="20" viewBox="0 0 20 20" fill="none"
                           xmlns="http://www.w3.org/2000/svg">
                           <path
                               d="M16.6673 9.16658C16.4635 7.7001 15.7832 6.3413 14.7312 5.2995C13.6792 4.25769 12.3138 3.59068 10.8454 3.40121C9.37697 3.21174 7.887 3.51032 6.60499 4.25096C5.32297 4.99159 4.32003 6.1332 3.75065 7.49992M3.33398 4.16658V7.49992H6.66732M3.33398 10.8332C3.53778 12.2997 4.21809 13.6585 5.27012 14.7003C6.32214 15.7421 7.68752 16.4091 9.15593 16.5986C10.6243 16.7881 12.1143 16.4895 13.3963 15.7489C14.6783 15.0082 15.6813 13.8666 16.2507 12.4999M16.6673 15.8332V12.4999H13.334"
                               stroke="white" stroke-width="1.5" stroke-linecap="round"
                               stroke-linejoin="round" />
                       </svg>



                   </button>

                   <button  id="loadStep2" onclick="loadStep2()" class="back-button">
                       <svg width="24" height="24" viewBox="0 0 24 24" fill="none"
                           xmlns="http://www.w3.org/2000/svg">
                           <path d="M15 6L9 12L15 18" stroke="#00A86B" stroke-width="2" stroke-linecap="round"
                               stroke-linejoin="round" />
                       </svg>
                       Back
                   </button>
               </div>
               </form>

               <div class="nin-auth-footer">
                   <svg width="17" height="18" viewBox="0 0 17 18" fill="none"
                       xmlns="http://www.w3.org/2000/svg">
                       <path
                           d="M13.4583 7.58366H14.1667C14.5579 7.58366 14.875 7.90078 14.875 8.29199V15.3753C14.875 15.7665 14.5579 16.0837 14.1667 16.0837H2.83333C2.44213 16.0837 2.125 15.7665 2.125 15.3753V8.29199C2.125 7.90078 2.44213 7.58366 2.83333 7.58366H3.54167V6.87533C3.54167 4.13692 5.76159 1.91699 8.5 1.91699C11.2384 1.91699 13.4583 4.13692 13.4583 6.87533V7.58366ZM12.0417 7.58366V6.87533C12.0417 4.91932 10.456 3.33366 8.5 3.33366C6.54399 3.33366 4.95833 4.91932 4.95833 6.87533V7.58366H12.0417ZM7.79167 10.417V13.2503H9.20833V10.417H7.79167Z"
                           fill="#4B5363" />
                   </svg>
                   YOUR DATA IS ENCRYPTED AND SECURED BY NINAUTH
               </div>
           </div>
       </div>
   </div>
   `;

   document.getElementById("capturePhoto").addEventListener("onclick", capturePhoto);
   document.getElementById("consentScreen").addEventListener("onclick", consentScreen);
   document.getElementById("loadStep1").addEventListener("onclick", loadStep1);
   document.getElementById("loadStep2").addEventListener("onclick", loadStep2);
}


function consentScreen() {
   document.querySelector('.main-content').innerHTML = `
                <div class="form-content">
           <header class="header-container ">


               <h1>
                   Consent
               </h1>
               <p class="heading-title">
                   The listed data will be shared with this organization
               </p>
           </header>

           <div class="consent-container">
               <div class="consent-container-second">
                   <div class="consent-container-company-container">
                       <div class="consent-container-company-container-info">
                           <img class="consent-container-logo" src="" alt="logo" />
                           <div class="consent-container-logo-detail">
                               <h2 class="consent-container-logo-text">
                                   MTN
                               </h2>
                               <p class="consent-container-logo-text-p">
                                   SIM Registration
                               </p>
                           </div>
                       </div>
                       <svg width="28" height="29" viewBox="0 0 28 29" fill="none"
                           xmlns="http://www.w3.org/2000/svg">
                           <path
                               d="M3.5 25H24.5M5.83333 25V8.66667L15.1667 4V25M22.1667 25V13.3333L15.1667 8.66667M10.5 11V11.0117M10.5 14.5V14.5117M10.5 18V18.0117M10.5 21.5V21.5117"
                               stroke="#9999A4" stroke-width="1.75" stroke-linecap="round"
                               stroke-linejoin="round" />
                       </svg>

                   </div>

                   <div class="consent-container-list-container">
                       <div class="consent-container-list-container-title">
                           <p>
                               Before you proceed, please review the information you are sharing
                           </p>
                       </div>

                       <div class="consent-container-list-container-alls" id="consentList">
                           <!-- List items will be dynamically inserted here -->
                       </div>


                   </div>
               </div>
               <div class="consent-container-button-container">
                   <button id="loadStep1"  onclick="loadStep1()" class="consent-container-reject-button">
                       Reject
                   </button>
                   <button id="loadThankyou"  onclick="loadThankyou()" class="consent-container-approve-button">
                       Approve
                   </button>
               </div>


           </div>

           <div class="nin-auth-footer">
               <svg width="17" height="18" viewBox="0 0 17 18" fill="none"
                   xmlns="http://www.w3.org/2000/svg">
                   <path
                       d="M13.4583 7.58366H14.1667C14.5579 7.58366 14.875 7.90078 14.875 8.29199V15.3753C14.875 15.7665 14.5579 16.0837 14.1667 16.0837H2.83333C2.44213 16.0837 2.125 15.7665 2.125 15.3753V8.29199C2.125 7.90078 2.44213 7.58366 2.83333 7.58366H3.54167V6.87533C3.54167 4.13692 5.76159 1.91699 8.5 1.91699C11.2384 1.91699 13.4583 4.13692 13.4583 6.87533V7.58366ZM12.0417 7.58366V6.87533C12.0417 4.91932 10.456 3.33366 8.5 3.33366C6.54399 3.33366 4.95833 4.91932 4.95833 6.87533V7.58366H12.0417ZM7.79167 10.417V13.2503H9.20833V10.417H7.79167Z"
                       fill="#4B5363" />
               </svg>
               YOUR DATA IS ENCRYPTED AND SECURED BY NINAUTH
           </div>
       </div>

   `;

   const consentList = document.getElementById("consentList");
   document.getElementById("loadThankyou").addEventListener("onclick", loadThankyou);
   document.getElementById("loadStep1").addEventListener("onclick", loadStep1);
   consents.forEach((consent, index) => {
       const itemDiv = document.createElement("div");
       itemDiv.classList.add("consent-container-list-container-alls-items");

       const numberDiv = document.createElement("div");
       numberDiv.classList.add("consent-container-list-container-alls-items-number");
       numberDiv.textContent = index + 1; // Numbering starts from 1

       const textP = document.createElement("p");
       textP.textContent = consent;

       itemDiv.appendChild(numberDiv);
       itemDiv.appendChild(textP);
       consentList.appendChild(itemDiv);
   });
}


function loadThankyou() {
   document.querySelector('.nin-auth-modal').innerHTML = `
<button id="nin-auth-close" class="nin-auth-close">
       <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
           <g clip-path="url(#clip0_9397_28110)">
               <path d="M15 5L5 15" stroke="white" stroke-width="1.5" stroke-linecap="round"
                   stroke-linejoin="round" />
               <path d="M5 5L15 15" stroke="white" stroke-width="1.5" stroke-linecap="round"
                   stroke-linejoin="round" />
           </g>
           <defs>
               <clipPath id="clip0_9397_28110">
                   <rect width="20" height="20" fill="white" />
               </clipPath>
           </defs>
       </svg>

   </button>
   <div class="nin-auth-steps">
       <svg width="118" height="32" viewBox="0 0 118 32" fill="none" xmlns="http://www.w3.org/2000/svg">
           <path
               d="M27.8848 21.9748V3.80762H31.016L39.1877 17.1735V3.80762H42.0388V21.9748H38.9076L30.7106 8.63495V21.9748H27.8848Z"
               fill="#059661" />
           <path d="M44.6797 21.9748V3.80762H47.6581V21.9748H44.6797Z" fill="#059661" />
           <path
               d="M50.3008 21.9748V3.80762H53.432L61.6036 17.1735V3.80762H64.4548V21.9748H61.3236L53.1265 8.63495V21.9748H50.3008Z"
               fill="#059661" />
           <path
               d="M79.1135 21.9748L77.5351 17.6925H70.2036L68.6252 21.9748H65.5449L72.4692 3.80762H75.244L82.1938 21.9748H79.1135ZM71.171 15.0713H76.5678L73.8694 7.80435L71.171 15.0713Z"
               fill="#0A1E29" />
           <path
               d="M94.4834 8.89453V21.9749H91.7086V19.7949C91.2673 20.5216 90.6818 21.1012 89.9521 21.5337C89.2223 21.9663 88.4077 22.1825 87.5083 22.1825C86.1166 22.1825 84.9923 21.7544 84.1352 20.8979C83.2782 20.0415 82.8496 18.9125 82.8496 17.5111V8.8946H85.6244V16.8622C85.6244 17.6927 85.862 18.3632 86.3372 18.8735C86.8124 19.384 87.4573 19.6392 88.2719 19.6392C89.3411 19.6392 90.1812 19.198 90.7921 18.3156C91.4031 17.4331 91.7086 16.2047 91.7086 14.6303V8.8946H94.4834V8.89453Z"
               fill="#0A1E29" />
           <path
               d="M104.178 21.8705C103.567 22.0781 102.889 22.1819 102.142 22.1819C100.869 22.1819 99.8464 21.8186 99.0743 21.0919C98.3021 20.3652 97.916 19.2838 97.916 17.8478V11.3075H95.6758V8.89388H97.916V5.00098H100.691V8.89388H104V11.3075H100.691V17.692C100.691 18.3322 100.848 18.8209 101.162 19.1583C101.476 19.4958 101.904 19.6644 102.447 19.6644C103.058 19.6644 103.576 19.5606 104 19.353L104.178 21.8704L104.178 21.8705Z"
               fill="#0A1E29" />
           <path
               d="M106.107 21.9744V3.59961H108.882V11.152C109.782 9.50836 111.182 8.68642 113.083 8.68642C114.542 8.68642 115.709 9.11468 116.583 9.97111C117.457 10.8276 117.894 11.9652 117.894 13.3839V21.9744H115.119V14.0328C115.119 13.1677 114.869 12.4843 114.368 11.9825C113.868 11.4808 113.184 11.2299 112.319 11.2299C111.25 11.2299 110.41 11.6798 109.799 12.5795C109.188 13.4792 108.882 14.725 108.882 16.3168V21.9745H106.107V21.9744Z"
               fill="#0A1E29" />
           <path
               d="M98.5299 30.9971C98.3227 30.9971 98.1325 30.953 97.9593 30.8647C97.786 30.7764 97.6674 30.665 97.6033 30.5306V30.9511H97.123V26.873H97.6033V28.4628C97.6937 28.3246 97.8245 28.2132 97.996 28.1287C98.1674 28.0442 98.3472 28.002 98.5355 28.002C98.9649 28.002 99.3001 28.1412 99.5412 28.4196C99.7822 28.6979 99.9027 29.058 99.9027 29.4996C99.9027 29.9412 99.7813 30.3012 99.5383 30.5796C99.2954 30.858 98.9592 30.9972 98.5298 30.9972L98.5299 30.9971ZM97.8152 30.2686C97.9828 30.4624 98.206 30.5594 98.4847 30.5594C98.7634 30.5594 98.9876 30.4624 99.157 30.2686C99.3265 30.0746 99.4112 29.8183 99.4112 29.4996C99.4112 29.1808 99.3264 28.9245 99.157 28.7306C98.9875 28.5366 98.7634 28.4397 98.4847 28.4397C98.206 28.4397 97.9828 28.5366 97.8152 28.7306C97.6476 28.9245 97.5638 29.1808 97.5638 29.4996C97.5638 29.8183 97.6476 30.0746 97.8152 30.2686Z"
               fill="#0A1E29" />
           <path
               d="M102.299 28.0488H102.791L101.299 32.0002H100.808L101.22 30.9115L100.107 28.0488H100.627L101.463 30.2722L102.299 28.0488Z"
               fill="#0A1E29" />
           <path
               d="M104.639 30.9519V26.9199H105.209L107.204 30.1282V26.9199H107.707V30.9519H107.136L105.142 27.7551V30.9519H104.639Z"
               fill="#0A1E29" />
           <path d="M108.531 30.9519V26.9199H109.045V30.9519H108.531Z" fill="#0A1E29" />
           <path
               d="M109.863 30.9519V26.9199H110.485L111.818 30.1916L113.151 26.9199H113.773V30.9519H113.264V27.9106L112.033 30.9519H111.603L110.366 27.9106V30.9519H109.863Z"
               fill="#0A1E29" />
           <path
               d="M116.333 30.9971C115.798 30.9971 115.344 30.8176 114.971 30.4586C114.599 30.0996 114.412 29.5917 114.412 28.9351C114.412 28.2785 114.599 27.7706 114.974 27.4116C115.349 27.0526 115.802 26.873 116.333 26.873C116.762 26.873 117.127 26.9873 117.426 27.2158C117.726 27.4443 117.917 27.7543 118 28.146L117.491 28.2612C117.427 27.9695 117.295 27.7429 117.093 27.5816C116.891 27.4203 116.636 27.3397 116.327 27.3397C115.913 27.3397 115.579 27.4799 115.325 27.7602C115.07 28.0405 114.943 28.4322 114.943 28.9352C114.943 29.4382 115.07 29.8289 115.325 30.1073C115.579 30.3857 115.913 30.5249 116.327 30.5249C116.633 30.5249 116.884 30.4481 117.082 30.2945C117.279 30.141 117.414 29.924 117.486 29.6437L118 29.7532C117.898 30.1372 117.7 30.4405 117.407 30.6632C117.113 30.886 116.755 30.9973 116.333 30.9973V30.9971Z"
               fill="#0A1E29" />
           <path fill-rule="evenodd" clip-rule="evenodd"
               d="M11.9101 0C18.4879 0 23.8202 5.43628 23.8202 12.1423C23.8202 18.8484 18.4879 24.2846 11.9101 24.2846C5.33225 24.2846 0 18.8484 0 12.1423C0 5.43628 5.33225 0 11.9101 0ZM14.1398 18.9174H9.69391C8.67531 18.9445 7.844 17.893 8.08539 16.884L9.40758 12.3379C8.31215 11.3947 7.81251 9.90708 8.12648 8.43664C8.4411 6.96413 9.62531 5.76602 11.073 5.45552C12.2437 5.2037 13.4385 5.49329 14.3507 6.24769C15.263 7.00256 15.7863 8.12181 15.7863 9.31825C15.7863 10.4893 15.2796 11.5895 14.4128 12.337L15.738 16.8417C15.9955 17.8964 15.1808 18.9327 14.1402 18.9174H14.1398H14.1398Z"
               fill="#059661" />
           <path
               d="M11.7482 30.2121C7.97114 30.2121 4.1941 28.7476 1.31716 25.8187C0.765396 25.2651 0.730184 24.3612 1.25026 23.7647C1.78727 23.1486 2.7116 23.0931 3.31576 23.6404L3.31661 23.6412C3.33797 23.6606 3.35888 23.6806 3.37913 23.7012C7.98963 28.4014 15.4884 28.4063 20.1043 23.7145C20.37 23.4365 20.7412 23.2639 21.1519 23.2639C21.96 23.2639 22.6153 23.9315 22.6153 24.7553C22.6153 25.151 22.4611 25.5312 22.1866 25.8109C19.3087 28.745 15.5285 30.212 11.7482 30.212H11.7482L11.7482 30.2121Z"
               fill="#059661" fill-opacity="0.980392" />
           <path
               d="M21.1523 23.2647C20.7416 23.2647 20.3703 23.4373 20.1046 23.7152C17.7987 26.0591 14.7735 27.2307 11.748 27.2305V30.2129L11.7486 30.2128C15.5288 30.2128 19.309 28.7459 22.187 25.8118C22.4614 25.532 22.6156 25.1518 22.6156 24.7562C22.6155 23.9321 21.9605 23.2646 21.1523 23.2646V23.2647Z"
               fill="#12BA74" fill-opacity="0.980392" />
       </svg>

       <div class="nin-auth-step-container">
           <div class="nin-auth-step">
              <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22ZM17.4571 9.45711L11 15.9142L6.79289 11.7071L8.20711 10.2929L11 13.0858L16.0429 8.04289L17.4571 9.45711Z" fill="#00A86B"/>
</svg>
               <p class="nin-auth-submission-text active">
                   NIN Submission
               </p>
           </div>
           <div class="horizontal-container">
               <div class="horizontal-line"></div>
           </div>
           <div class="nin-auth-step">
                   <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22ZM17.4571 9.45711L11 15.9142L6.79289 11.7071L8.20711 10.2929L11 13.0858L16.0429 8.04289L17.4571 9.45711Z" fill="#00A86B"/>
</svg>
               <p class="nin-auth-submission-text active">
                   Facial Verification
               </p>

           </div>
           <div class="horizontal-container">
               <div class="horizontal-line"></div>
           </div>
           <div class="nin-auth-step">
                   <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22ZM17.4571 9.45711L11 15.9142L6.79289 11.7071L8.20711 10.2929L11 13.0858L16.0429 8.04289L17.4571 9.45711Z" fill="#00A86B"/>
</svg>
                <p class="nin-auth-submission-text active">
                   Data Consent
               </p>
           </div>
       </div>
   </div>
   <div class="main-content">
         <div id="successContainer" class="form-content">
   <header class="header-container-2">
       <svg width="78" height="77" viewBox="0 0 78 77" fill="none" xmlns="http://www.w3.org/2000/svg">
           <g filter="url(#filter0_d_9404_28394)">
               <rect x="0.5" width="75" height="75" rx="37.5" fill="#0FFF9B" fill-opacity="0.980392" shape-rendering="crispEdges" />
               <path d="M34.1652 42.2845L49.4859 26.9639L51.8429 29.3209L34.1652 46.9985L23.5586 36.392L25.9156 34.035L34.1652 42.2845Z" fill="black" />
           </g>
           <defs>
               <filter id="filter0_d_9404_28394" x="0.5" y="0" width="77" height="77" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
                   <feFlood flood-opacity="0" result="BackgroundImageFix" />
                   <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha" />
                   <feOffset dx="2" dy="2" />
                   <feComposite in2="hardAlpha" operator="out" />
                   <feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0" />
                   <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_9404_28394" />
                   <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_9404_28394" result="shape" />
               </filter>
           </defs>
       </svg>
       <div class="mb-8">
           <h1>THANK YOU</h1>
           <p class="heading-title">Your data has been successfully submitted.</p>
       </div>
   </header>

   <div class="nin-auth-form" id="nin-auth-form">
       <div class="button-container">
           <button onclick="closewidget()" type="submit" class="nin-auth-submit">Continue</button>
       </div>

       <div class="nin-auth-footer">
           <svg width="17" height="18" viewBox="0 0 17 18" fill="none" xmlns="http://www.w3.org/2000/svg">
               <path d="M13.4583 7.58366H14.1667C14.5579 7.58366 14.875 7.90078 14.875 8.29199V15.3753C14.875 15.7665 14.5579 16.0837 14.1667 16.0837H2.83333C2.44213 16.0837 2.125 15.7665 2.125 15.3753V8.29199C2.125 7.90078 2.44213 7.58366 2.83333 7.58366H3.54167V6.87533C3.54167 4.13692 5.76159 1.91699 8.5 1.91699C11.2384 1.91699 13.4583 4.13692 13.4583 6.87533V7.58366ZM12.0417 7.58366V6.87533C12.0417 4.91932 10.456 3.33366 8.5 3.33366C6.54399 3.33366 4.95833 4.91932 4.95833 6.87533V7.58366H12.0417ZM7.79167 10.417V13.2503H9.20833V10.417H7.79167Z" fill="#4B5363" />
           </svg>
           YOUR DATA IS ENCRYPTED AND SECURED BY NINAUTH
       </div>
   </div>
</div>
           </div>

       </div>
   </div>
`;
}

// Initialize Camera
async function initCamera() {
   try {
       stream = await navigator.mediaDevices.getUserMedia({
           video: {
               facingMode: 'user',
               width: {
                   ideal: 1280
               },
               height: {
                   ideal: 720
               }
           }
       });
       const videoElement = document.getElementById('video-preview');
       videoElement.srcObject = stream;
       await videoElement.play();
   } catch (error) {
       console.error("Camera access denied: ", error);
       const submitButton = document.querySelector('.nin-auth-submit');
       submitButton.disabled = true;
       showError('Camera access denied.');
   }
}

function showError(message) {
   const statusElement = document.querySelector('.status-message');
   statusElement.innerHTML = `
<div class="status-content">
   <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
       <path d="M12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22ZM11 11V17H13V11H11ZM11 7V9H13V7H11Z" fill="#F29419"/>
   </svg>
   <span>${message}</span>
</div>
`;
   statusElement.style.display = 'block';
   statusElement.className = 'status-message error';
}

function showSuccess(message) {
   const statusElement = document.querySelector('.status-message');
   statusElement.innerHTML = `
<div class="status-content">
   <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
       <path d="M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22ZM17.4571 9.45711L11 15.9142L6.79289 11.7071L8.20711 10.2929L11 13.0858L16.0429 8.04289L17.4571 9.45711Z" fill="#008738"/>
   </svg>
   <span>${message}</span>
</div>
`;
   statusElement.style.display = 'block';
   statusElement.className = 'status-message success';
}

async function capturePhoto() {
   const submitButton = document.querySelector('.nin-auth-submit');
   const takePhotoIcon = document.querySelector('.take-photo-icon');
   const spinner = document.querySelector('.spinner');
   const videoElement = document.getElementById('video-preview');
   const pictureElement = document.getElementById('picture-preview');

   submitButton.disabled = true;
   takePhotoIcon.style.display = 'none';
   spinner.style.display = 'flex';

   // Simulate API call with random responses
   const responses = [
       // {
       //     status: 400,
       //     message: 'Multiple faces detected'
       // },
       // {
       //     status: 400,
       //     message: 'Poor lighting detected'
       // },
       // {
       //     status: 400,
       //     message: 'Face not properly positioned'
       // },
       {
           status: 200,
           message: 'Selfie captured'
       }
   ];

   // Simulate API delay
   await new Promise(resolve => setTimeout(resolve, 2000));

   const response = responses[Math.floor(Math.random() * responses.length)];

   if (response.status === 200) {
       showSuccess(response.message);
       document.querySelector('.button-container').style.display = 'none';
       document.querySelector('.captured-actions').style.display = 'flex';

       // Capture the image
       const canvas = document.createElement('canvas');
       const context = canvas.getContext('2d');
       canvas.width = videoElement.videoWidth;
       canvas.height = videoElement.videoHeight;
       context.drawImage(videoElement, 0, 0, canvas.width, canvas.height);
       const capturedImage = canvas.toDataURL('image/png');

       console.log("Captured Image:", capturedImage);

       // Hide the video and replace it with the img element
       videoElement.style.display = 'none';
       pictureElement.style.display = 'block';
       pictureElement.src = capturedImage; // Set captured image to img tag

       // Stop the video stream
       stream.getTracks().forEach(track => track.stop());
       videoElement.srcObject = null;
   } else {
       showError(response.message);
   }

   submitButton.disabled = false;
   takePhotoIcon.style.display = 'block';
   spinner.style.display = 'none';
}

function retakePhoto() {
   document.querySelector('.button-container').style.display = 'flex';
   document.querySelector('.captured-actions').style.display = 'none';
   const statusElement = document.querySelector('.status-message');
   const videoElement = document.getElementById('video-preview');
   const pictureElement = document.getElementById('picture-preview');
   statusElement.style.display = 'none';
   videoElement.style.display = 'block';
   pictureElement.style.display = 'none';
   // Reinitialize the camera
   initCamera();
}

function usePhoto() {
   function showResult(isSuccess) {
       document.getElementById("successContainer").style.display = isSuccess ? "block" : "none";
       document.getElementById("failedContainer").style.display = isSuccess ? "none" : "block";
   }

   // Example usage: Call this function based on the actual verification result.
   let verificationStatus = true; // or false based on API response
   loadStep3()
   showResult(verificationStatus);

}


function closewidget() {
    document.querySelector(".nin-auth-overlay").style.display = "block";
    document.querySelector(".nin-auth-modal").style.display = "flex";
}

function ensureModalExists() {
    let overlay = document.querySelector(".nin-auth-overlay");
    let modal = document.querySelector(".nin-auth-modal");

    if (!overlay) {
        overlay = document.createElement("div");
        overlay.className = "nin-auth-overlay";
        document.body.appendChild(overlay); // Append to body
    }

    if (!modal) {
        modal = document.createElement("div");
        modal.className = "nin-auth-modal";
        overlay.appendChild(modal); // Append inside overlay
    }
}

  window.NinAuth = {
    openModal: function () {
      ensureModalExists();
      document.querySelector(".nin-auth-overlay").style.display = "block";
      document.querySelector(".nin-auth-modal").style.display = "flex";
      loadStep1();
      document.getElementById("nin-auth-close").addEventListener("onclick", closewidget);
    },
    closeModal: function () {
      document.querySelector(".nin-auth-overlay").style.display = "none";
      document.querySelector(".nin-auth-modal").style.display = "none";
    },
  };
})();
